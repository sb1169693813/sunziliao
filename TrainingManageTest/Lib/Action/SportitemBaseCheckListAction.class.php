<?phpclass SportitemBaseCheckListAction extends  BaseAction{	//动作库列表首页	public function index()	{		//当前页码		$nowpage  = isset($_GET['pageIndex']) ? trim($_GET['pageIndex']) : 1;		//审核状态		$auditstatus = isset($_GET['auditstatus']) ? trim($_GET['auditstatus']):null;		$cp = new CommonPRM();		$pageInfo = new PageInfo();		$pageInfo->nowpage = $nowpage;		$pageInfo->pagesize = 10;		$cp->pageinfo = $pageInfo;		$btbSportitemBasePRM = new BtbSportitemBasePRM();		$btbSportitemBasePRM->order_by = ' id DESC ';		//不包括未提交0的状态		$btbSportitemBasePRM->auditstatusnot = 0;		if(!is_null($auditstatus))		{			if(is_numeric($auditstatus))			{				//auditstatus不为空赋予查询条件				$btbSportitemBasePRM->auditstatus = $auditstatus;				//分页跳转的时候保证查询条件				$urlPrefix ='SportitemBaseCheckList/index?auditstatus='.$auditstatus;			}		}		else		{			$urlPrefix ='SportitemBaseCheckList/index';		}		//获取登录者的信息		$user = $this->getLoginInfo();		//动作库List		$sportitemBaseList = BtbSportitemBaseBLL::getSportitemBaseList($cp,$btbSportitemBasePRM);		$page = new CLinkPager($pageInfo->totalcount,$pageInfo->pagesize,$urlPrefix);		$show = $page->show();		$this->assign('auditstatus',$auditstatus);		$this->assign('totalcount',$pageInfo->totalcount);    	$this->assign('page',$show);		$this->assign('sportitemBaseList',$sportitemBaseList);		//menu动作库		$this->assign('headtype',2);		//课程管理1还是课程审核页面0		$this->assign('coachtype',$user['type']);		//$this->display("SportitemBaseCheckList/index");		$this->display("SportitemBaseCheck/index");	}		//动作库审核    public function check()    {    	//$cp = new CommonPRM();    	//sportitem_base    	$sportitem_base_id = isset($_GET['id']) ? trim($_GET['id']):null;    	$this->redirect('SportitemBaseCheckDetail/index',array('id'=>$sportitem_base_id));    }    }